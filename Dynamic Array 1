#include <stdio.h>
#include <stdlib.h>

typedef struct {
    int *data;
    int size, cap;
} DynArray;

void init(DynArray *a) {
    a->size = 0;
    a->cap = 2;
    a->data = malloc(a->cap * sizeof(int));
}
void push(DynArray *a, int val) {
    if (a->size == a->cap) {
        a->cap *= 2;
        a->data = realloc(a->data, a->cap * sizeof(int));
    }
    a->data[a->size++] = val;
}
void freeArray(DynArray *a) { free(a->data); }

int main() {
    DynArray arr; init(&arr);
    for (int i = 1; i <= 10; i++) push(&arr, i);
    for (int i = 0; i < arr.size; i++) printf("%d ", arr.data[i]);
    freeArray(&arr);
}
